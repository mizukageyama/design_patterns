unit GumballMachineLocator;

interface

uses
  GumballMachineIntf, System.Generics.Collections, WebModule;

type
  TGumballMachineLocator = class
  private
    FGumbalMachines: TDictionary<string, IGumballMachine>;
  public
    constructor Create;
    function GetMachineByLocation(Location: string): IGumballMachine;
  end;

implementation

{ TGumballMachineLocator }

constructor TGumballMachineLocator.Create;
begin
  FGumbalMachines := TDictionary<string, IGumballMachine>.Create;
  FGumbalMachines.Add('davao', DavaoGumballMachine);
  FGumbalMachines.Add('cdo', CDOGumballMachine);
  FGumbalMachines.Add('gensan', GensanGumballMachine);
end;

function TGumballMachineLocator.GetMachineByLocation(
  Location: String): IGumballMachine;
begin
  WriteLn(FGumbalMachines[Location].ToString);
  Result := FGumbalMachines[Location];
end;

end.
