unit Waitress;

interface

uses
  DinerMenu, PancakeHouseMenu, IteratorIntf, MenuItem, System.SysUtils;

type
  TWaitress = class
  private
    FPancakeHouseMenu: TPancakeHouseMenu;
    FDinerMenu: TDinerMenu;
  public
    constructor Create(APancakeHouseMenu: TPancakeHouseMenu; ADinerMenu: TDinerMenu);
    procedure PrintMenu; overload;
    procedure PrintMenu(Iterator: IIterator); overload;
  end;

implementation

{ TWaitress }

constructor TWaitress.Create(APancakeHouseMenu: TPancakeHouseMenu;
  ADinerMenu: TDinerMenu);
begin
  FPancakeHouseMenu := APancakeHouseMenu;
  FDinerMenu := ADinerMenu;
end;

procedure TWaitress.PrintMenu;
begin
  var PancakeIterator := FPancakeHouseMenu.CreateIterator;
  var DinerIterator := FDinerMenu.CreateIterator;
  WriteLn('MENU' + sLineBreak + '----' + sLineBreak + 'BREAKFAST');
  PrintMenu(PancakeIterator);
  WriteLn(sLineBreak + 'LUNCH');
  PrintMenu(DinerIterator);
end;

procedure TWaitress.PrintMenu(Iterator: IIterator);
begin
  while Iterator.HasNext do
  begin
    var MenuItem: TMenuItem := Iterator.Next as TMenuItem;
    WriteLn(MenuItem.GetName + ', ');
    WriteLn(MenuItem.GetPrice.toString + ' -- ');
    WriteLn(MenuItem.GetDescription);
  end;
end;

end.
